{% load i18n %}
{% load staticfiles %}

<div class="main-content" id="packages"
     v-if="active_element === 'tracability'"
     v-cloak xmlns:v-bind="http://www.w3.org/1999/xhtml">
    <div class="start-content">
        <div class="nav-search">
            <ul class="nav nav-tabs">
                <li class="nav-item">
                    <a class="nav-link all"
                       :class="{ 'active': active_package_type == 'all' } "
                       @click.prevent="showPackages('all')" href="#">{% trans "All" %}</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link plot"
                       :class="{ 'active': active_package_type == 'plt' } "
                       @click.prevent="showPackages('plt')" href="#">{% trans "Plot" %}</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link harvest"
                       :class="{ 'active': active_package_type == 'har' } "
                       @click.prevent="showPackages('har')" href="#">{% trans "Harvest" %}</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link transport"
                       :class="{ 'active': active_package_type == 'trk' } "
                       @click.prevent="showPackages('trk')" href="#">{% trans "Transport" %}</a>
                </li>
            </ul>

            <div class="search-actions">
                <i class="search-icon"></i>
                <input type="text" v-model="package_keyword" placeholder="{% trans 'Search' %}..."/>
            </div>
        </div>
        <div class="content-data">
            <div class="packages-data">
                <div class="packages">
                    <div class="package" v-for="(package, key) in packages" v-bind:id="key">
                        <div class="package-pid">
                            <div class="pid">
                                <span :class="[package.type_display]">[[ package.pid ]]</span>
                            </div>
                        </div>
                        <div class="package-details">
                            <div class="package-entity" v-for="entity in package.entities"
                                 :key="key">
                                <div>
                                    <span class="description">[[ entity.description ]]</span>
                                    <span class="timestamp">[[ entity.timestamp_display ]] <span class="timezone">[[ entity.timezone ]]</span></span>
                                </div>
                                <hr>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>